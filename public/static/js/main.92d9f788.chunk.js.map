{"version":3,"sources":["services/url.js","store/reducer.js","components/settings.js","components/displayCard.js","components/mainWindow.js","assets/logo.jpg","components/main.js","App.js","store/store.js","index.js"],"names":["localServer","loadPorts","loadConfig","saveConfig","connectToComPort","sendCommand","configSlice","createSlice","name","initialState","categories","selectedCategory","id","comPorts","selectedComPort","deskNum","server","overrideCategory","configLoaded","reducers","setCategories","state","action","payload","setSelectedCategory","setComPorts","setSelectedComPort","setDeskNum","setOverrideCategory","setConfigLoaded","setServer","actions","styles","headerStyle","textAlign","cardContainer","margin","display","flexDirection","justifyContent","buttonsStyle","Settings","props","dispatch","useDispatch","useSelector","Config","category","ports","comPort","useState","config","setConfig","portsList","setPortsList","port","setPort","onSubmit","a","x","filter","c","parseInt","configurations","desk","axios","post","urls","localStorage","setItem","JSON","stringify","history","push","handleInputChange","value","conf","useEffect","_ports","map","label","className","style","Form","Control","as","size","onChange","e","target","option","options","type","placeholder","Button","variant","onClick","DisplayCard","title","content","Card","Header","Body","Title","flexDircetion","marginBottom","MainWindow","current","setCurrent","waiting","setWaiting","isOn","setIsOn","isLoading","setIsLoading","serverURLS","loadAllCats","getCategoryStatus","getNextCustomer","repeatCustomer","socketServer","loadUpdates","cats","currentCat","console","log","message","callCustomer","window","data","num","customer","handleNext","cust","handleOnOff","handleRepeat","get","io","transports","on","fontSize","fontWeight","disabled","Main","showError","setShowError","showLogo","setShowLogo","loadData","parse","getItem","localConfig","status","setTimeout","onConfirm","src","logo","heigh","width","marginTop","App","path","component","configureStore","reducer","ReactDOM","render","StrictMode","store","backgroundColor","height","document","getElementById"],"mappings":"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","file":"static/js/main.92d9f788.chunk.js","sourcesContent":["const localServer = 'http://localhost:3020/api';\n\nexport default {\n  loadPorts: `${localServer}/getPorts`,\n  loadConfig: `${localServer}/loadConf`,\n  saveConfig: `${localServer}/saveConf`,\n  connectToComPort: `${localServer}/connectToSerial`,\n  sendCommand: `${localServer}/sendCommand`,\n}","import { createSlice } from '@reduxjs/toolkit'\n\nexport const configSlice = createSlice({\n    name: 'Settings',\n    initialState: {\n        categories: [],\n        selectedCategory: { id: 0, name: '-' },\n        comPorts: [],\n        selectedComPort: '',\n        deskNum: 0,\n        server: '',\n        overrideCategory: '',\n        configLoaded: false\n    },\n    reducers: {\n        setCategories: (state, action) => {\n            state.categories = action.payload;\n        },\n        setSelectedCategory: (state, action) => {\n            state.selectedCategory = action.payload;\n        },\n        setComPorts: (state, action) => {\n            state.comPorts = action.payload;\n        },\n        setSelectedComPort: (state, action) => {\n            state.selectedComPort = action.payload;\n        },\n        setDeskNum: (state, action) => {\n            state.deskNum = action.payload;\n        },\n        setOverrideCategory: (state, action) => {\n            state.overrideCategory = action.payload;\n        },\n        setConfigLoaded: state => {\n            state.configLoaded = true\n        },\n        setServer: (state, action) => {\n            state.server = action.payload;\n        }\n    },\n})\n\n// Action creators are generated for each case reducer function\nexport const {\n    setCategories,\n    setSelectedCategory,\n    setComPorts,\n    setSelectedComPort,\n    setDeskNum,\n    setOverrideCategory,\n    setConfigLoaded,\n    setServer\n\n} = configSlice.actions\n\nexport default configSlice.reducer","import { Form, Button } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport urls from '../services/url';\nimport axios from 'axios';\nimport { setDeskNum, setSelectedCategory, setSelectedComPort, setServer } from \"../store/reducer\";\nimport Select from 'react-select';\n\nconst Settings = props => {\n\n    const dispatch = useDispatch();\n    const categories = useSelector(state => state.Config.categories);\n    const category = useSelector(state => state.Config.selectedCategory);\n    const deskNum = useSelector(state => state.Config.deskNum);\n    const ports = useSelector(state => state.Config.comPorts);\n    const comPort = useSelector(state => state.Config.selectedComPort);\n    const server = useSelector(state => state.Config.server);\n\n    const [config, setConfig] = useState({\n        selectedCategory: category ? category.id : 1,\n        selectedComPort: comPort,\n        deskNum,\n        server\n    });\n\n    const [portsList, setPortsList] = useState([]);\n    const [port, setPort] = useState(null);\n\n    const onSubmit = async () => {\n        dispatch(setSelectedComPort(config.selectedComPort));\n        dispatch(setServer(config.server));\n        const x = categories.filter(c => c.id == config.selectedCategory);\n        const y = x[0] ? x[0] : { id: 0, name: '' }\n        dispatch(setSelectedCategory(x[0]));\n        dispatch(setDeskNum(parseInt(config.deskNum)));\n\n        try {\n            const configurations = {\n                desk: config.deskNum,\n                category: config.selectedCategory,\n                comPort: config.selectedComPort,\n                server: config.server\n            }\n            await axios.post(\n                urls.saveConfig,\n                configurations\n            );\n            localStorage.setItem('config', JSON.stringify(configurations))\n\n            props.history.push('/')\n        } catch (e) {\n\n        }\n    }\n\n    const handleInputChange = ({ name, value }) => {\n        const conf = { ...config, [name]: value };\n        setConfig(conf);\n    }\n\n    useEffect(() => {\n        const _ports = [];\n        ports.map(port => {\n            _ports.push({ value: port, label: port })\n        });\n        setPortsList(_ports);\n        setPort({ value: comPort, label: comPort })\n    }, [])\n\n    const handlePortSelection = (option) => {\n        handleInputChange({ name: 'selectedComPort', value: option.value });\n        setPort(option)\n    }\n\n    return (\n        <div className=''>\n            <div className='alert alert-secondary'\n                style={styles.headerStyle}>\n                <h1>Settings</h1>\n            </div>\n            <div className='container'>\n                <Form>\n                    <Form.Control as=\"select\" size=\"lg\" name='selectedCategory'\n                        onChange={(e) => handleInputChange(e.target)} value={config.selectedCategory}>\n                        {categories.map(category => {\n                            return (\n                                <option key={category.id} value={category.id}>{category.name}</option>\n                            )\n                        })}\n\n                    </Form.Control>\n                    <br />\n\n\n                    <Select\n                        value={port}\n                        onChange={handlePortSelection}\n                        options={portsList}\n                    />\n\n                    <br />\n                    <Form.Control size=\"lg\" type=\"number\" placeholder=\"Desk Number\"\n                        name={'deskNum'}\n                        value={config.deskNum}\n                        onChange={(e) => handleInputChange(e.target)}\n                    />\n                    <br />\n\n                    <Form.Control size=\"lg\" type=\"text\" placeholder=\"Server\"\n                        name={'server'}\n                        value={config.server}\n                        onChange={(e) => handleInputChange(e.target)}\n                    />\n                    <br />\n                    <Button variant=\"success\" size='lg' onClick={onSubmit}>\n                        Save\n                    </Button>\n\n                </Form>\n            </div>\n        </div>\n    )\n}\nconst styles = {\n    headerStyle: {\n        textAlign: 'center'\n    },\n    cardContainer: {\n        margin: 20,\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-around'\n    },\n    buttonsStyle: {\n        margin: 25,\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-around'\n    }\n}\n\nexport default Settings;","import {Card, Button} from 'react-bootstrap'\n\nconst DisplayCard = props => {\n    const {title, content, type} = props;\n    return(\n        <div>\n            <Card className={type+ \" text-white\"}>\n              <Card.Header>\n                  <h1>{title}</h1>\n              </Card.Header>\n              <Card.Body className='bg-secondary'>\n                <Card.Title><h1>{content}</h1></Card.Title>\n              </Card.Body>\n            </Card>\n        </div>\n    )\n}\n\nexport default DisplayCard","import DisplayCard from './displayCard';\nimport { Button } from 'react-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport urls from '../services/url';\nimport { io } from 'socket.io-client';\nimport {\n  setSelectedCategory\n} from '../store/reducer';\n\n\nconst MainWindow = props => {\n  const category = useSelector(state => state.Config.selectedCategory);\n  const deskNum = useSelector(state => state.Config.deskNum);\n  const [current, setCurrent] = useState(0);\n  const [waiting, setWaiting] = useState(0)\n  const [isOn, setIsOn] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n  const server = useSelector(state => state.Config.server);\n\n  let serverURLS = {\n    loadAllCats: `${server}/api/cats`,\n    getCategoryStatus: `${server}/api/cats/getStatus`,\n    getNextCustomer: `${server}/api/cats/popCustomer`,\n    repeatCustomer: `${server}/api/cats/repeatCustomerNumber`,\n    socketServer: `${server}/`,\n  }\n\n\n  const loadUpdates = async (cats, type) => {\n    try {\n      const currentCat = cats.filter(c => parseInt(c.id) === parseInt(category.id))[0];\n      setCurrent(currentCat.current);\n      setWaiting(currentCat.waiting === null ? 0 : currentCat.waiting)\n    } catch (e) {\n      console.log(e.message)\n    }\n\n  }\n\n  const callCustomer = async (id) => {\n    try {\n      setIsLoading(true);\n      const { data } = await axios.post(serverURLS.getNextCustomer, {\n        id,\n        window: deskNum\n      })\n      await axios.post(`${urls.sendCommand}/`, {\n        type: 'A',\n        num: data.customer\n      });\n\n      setIsLoading(false);\n      return data.customer;\n\n    } catch (e) {\n      console.log(e.message);\n      setIsLoading(false);\n    }\n  }\n\n  const handleNext = async () => {\n    /* \n    if category == 1\n    send for cat-3 first \n    if there was a response  set the current category to be 3\n    until the customer is undefined \n    switch back to to cat-1 and so on\n    */\n    if (category.id === 1) {\n      // call cat-3 first\n      const cust = await callCustomer(3);\n      console.log('Customer', cust)\n      // if cat-3 has customers set currentCategory to be cat-3\n      if (cust) {\n        dispatch(setSelectedCategory({ id: 3, name: \"Emergency\" }));\n        return\n      } else {\n        //call cat-1 customer\n        await callCustomer(1);\n      }\n    }\n    else {\n      if (category.id === 3) {\n        // call cat-3 first\n        const cust = await callCustomer(3);\n        // if no customers in cat-3 set current category to be cat-1 and call cat-1 customers\n        if (!cust) {\n          await callCustomer(1);\n          dispatch(setSelectedCategory({ id: 1, name: \"Receiption\" }));\n        }\n      }\n      else {\n        // if it was cat-2 call cat-2 customers\n        await callCustomer(category.id);\n      }\n\n    }\n  }\n\n  const handleOnOff = async () => {\n    try {\n      if (!isOn) {\n        handleNext();\n      } else {\n        await axios.post(`${urls.sendCommand}/`, {\n          type: 'ON',\n          num: null\n        });\n      }\n      setIsOn(!isOn);\n    } catch (e) {\n    }\n  }\n\n  const handleRepeat = async () => {\n    try {\n      await axios.post(serverURLS.repeatCustomer, {\n        num: current,\n        window: deskNum\n      })\n    } catch (e) {\n\n    }\n  }\n\n  useEffect(async () => {\n    const { data } = await axios.get(serverURLS.getCategoryStatus);\n    loadUpdates(data.data, 'http');\n    const socket = io(serverURLS.socketServer, { transports: ['websocket'] });\n    socket.on('cats', (cats) => {\n      loadUpdates(cats.cats, 'socket')\n    });\n\n  }, [category])\n\n  return (\n    <div>\n\n      <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n        <div className='alert alert-dark'\n          style={styles.headerStyle}>\n          <h2>{category?.name ? category.name : '-'}</h2>\n          <h2>Desk: {deskNum}</h2>\n          <Button variant=\"default\" size='lg'\n            onClick={() => props.history.push('/settings')}>\n            <span style={{ fontSize: 30, fontWeight: 'bold', margin: 0 }}>...</span>\n          </Button>\n        </div>\n        <div style={styles.cardContainer}>\n          <DisplayCard title={'Current'} content={current} type={'bg-info'} />\n          <DisplayCard title={'Waiting'} content={waiting} type={'bg-success'} />\n        </div>\n\n        <div style={styles.buttonsStyle}>\n          <Button variant=\"primary\" size='lg'\n            onClick={handleNext}\n            disabled={isLoading}\n          >Next</Button>\n          <Button variant=\"primary\" size='lg'\n            onClick={handleRepeat}\n            disabled={isLoading}\n          >Repeat</Button>\n          <Button variant={isOn ? \"success\" : \"danger\"} size='lg' onClick={handleOnOff} disabled={isLoading}>\n            {isOn ? 'ON' : 'OFF'}\n\n          </Button>\n\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  headerStyle: {\n    display: 'flex',\n    flexDircetion: 'row',\n    justifyContent: 'space-between',\n    textAlign: 'center'\n  },\n  cardContainer: {\n    margin: 20,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 50\n  },\n  buttonsStyle: {\n    margin: 35,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-around'\n  }\n}\n\nexport default MainWindow;","export default __webpack_public_path__ + \"static/media/logo.4b7f5575.jpg\";","import MainWindow from \"./mainWindow\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport {\n    setCategories,\n    setSelectedCategory,\n    setComPorts,\n    setSelectedComPort,\n    setDeskNum,\n    setConfigLoaded,\n    setServer\n} from '../store/reducer';\nimport urls from '../services/url';\nimport SweetAlert from 'react-bootstrap-sweetalert'\nimport logo from '../assets/logo.jpg'\n\nconst Main = props => {\n\n    const dispatch = useDispatch();\n    const configLoaded = useSelector(state => state.Config.configLoaded)\n    const [showError, setShowError] = useState(false)\n    const [showLogo, setShowLogo] = useState(true);\n\n    const loadData = async () => {\n\n        try {\n\n            const cats = [{ id: 1, name: 'Receiption' }, { id: 2, name: 'M.R.I' }]\n            dispatch(setCategories(cats));\n\n            // loadSerial ports\n            const { data: ports } = await axios.get(urls.loadPorts);\n            dispatch(setComPorts(ports));\n\n            // load current config\n            let config = JSON.parse(localStorage.getItem('config'));\n            if (!config) {\n                const { data: localConfig } = await axios.get(urls.loadConfig);\n                config = localConfig\n                localStorage.setItem('config', JSON.stringify(config));\n            }\n\n            dispatch(setDeskNum(config.desk));\n            dispatch(setSelectedComPort(config.comPort));\n            dispatch(setServer(config.server));\n\n            const currentCat = cats.filter(c => parseInt(c.id) === parseInt(config.category));\n            dispatch(setSelectedCategory(currentCat[0]));\n            dispatch(setConfigLoaded())\n\n        } catch (e) {\n            console.log(e.message);\n        }\n    }\n\n    useEffect(async () => {\n        const { data } = await axios.get(urls.connectToComPort);\n        if (data.status === 500) setShowError(true);\n\n        await loadData();\n\n        setTimeout(() => { setShowLogo(false) }, 2000)\n    }, []);\n\n    return (\n        <div>\n            {!showLogo && (<div>\n                {showError && (<SweetAlert\n                    title={\"Serial Port Error\"}\n                    type={'error'}\n                    onConfirm={() => setShowError(false)}\n                //dependencies={[this.state.firstName, this.state.lastName]}\n                >\n                    <h4>Please check cable is connected</h4>\n                </SweetAlert>)}\n\n                {configLoaded && (<MainWindow {...props} />)}\n            </div>)}\n\n            {showLogo && (<div>\n                <img src={logo} style={{ heigh: '100vh', width: '100%', marginTop: 'auto' }} />\n            </div>)}\n\n\n\n        </div>\n\n    )\n}\n\nexport default Main;","import './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport Settings from './components/settings';\nimport Main from './components/main';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path='/settings' component={Settings} />\n          <Route path='/' component={Main} />\n        </Switch>\n      </Router>\n\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport configSlice from './reducer';\n\nexport default configureStore({\n  reducer: {\n      'Config': configSlice\n  },\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport store from './store/store';\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <div style={{ backgroundColor: 'a', height: '100vh' }}>\n        <App />\n      </div>\n\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}